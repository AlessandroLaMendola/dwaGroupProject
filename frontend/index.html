<!DOCTYPE html>
<html lang="en" class="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Page | Together Culture</title>
    <link rel="stylesheet" href="./css/styles.css" />
    <style>
      /* ========== RESET & GLOBAL ========== */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: Arial, sans-serif;
      }
      html,
      body {
        height: 100%;
      }
      body {
        display: flex;
        flex-direction: column;
      }
      /* ========== HEADER (unchanged) ========== */
      .navbar {
        background-color: #fe1e3c;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 80px;
        display: flex;
        align-items: center;
        padding: 0 1rem;
        font-weight: 200;
        z-index: 1000;
      }
      .nav-image img {
        height: 50px;
        width: auto;
      }
      .nav-links {
        margin: 0 auto;
      }
      .nav-links ul {
        list-style: none;
        display: flex;
        gap: 2rem;
      }
      .nav-links a {
        text-decoration: none;
        color: #fff;
        font-size: 1rem;
      }
      /* ========== USER PANEL (Updated for session logic) ========== */
      .usr-panel {
        display: flex;
        align-items: center;
        gap: 1rem;
      }
      .signup-btn {
        background: linear-gradient(to right, #ff416c, #ff4b2b);
        color: #fff;
        border: none;
        padding: 10px 20px;
        font-size: 16px;
        font-weight: bold;
        border-radius: 25px;
        cursor: pointer;
        transition: 0.3s ease-in-out;
      }
      .signup-btn:hover {
        background: linear-gradient(to right, #ff4b2b, #ff416c);
        transform: scale(1.05);
      }
      /* Dropdown for Memberships */
      .dropdown {
        position: relative;
      }
      .dropdown-menu {
        visibility: hidden;
        opacity: 0;
        pointer-events: none;
        position: absolute;
        top: 100%;
        left: 0;
        background-color: #fff;
        min-width: 160px;
        border-radius: 8px;
        margin-top: 0.5rem;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        padding: 0.75rem 0;
        transform: translateY(-10px);
        transition: opacity 0.2s ease, transform 0.2s ease;
      }
      .dropdown-menu li {
        list-style: none;
      }
      .dropdown-menu li a {
        display: block;
        padding: 0.5rem 1rem;
        color: #333;
        text-decoration: none;
        font-size: 0.95rem;
        transition: background-color 0.2s ease;
      }
      .dropdown-menu li a:hover {
        background-color: #f2f2f2;
      }
      .dropdown:hover .dropdown-menu {
        visibility: visible;
        opacity: 1;
        pointer-events: auto;
        transform: translateY(0);
      }
      /* ========== MAIN CONTENT ========== */
      main {
        margin-top: 80px; /* Offset for fixed header */
      }
      .lp-banner {
        position: relative;
        margin-bottom: 170px; /* Adjust this value based on your design */
      }
      .lp-banner video {
        width: 100%;
        height: auto;
      }
      .lp-banner .content {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        color: #fff;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
      }
      .lp-banner .content img {
        max-width: 150px;
        margin-bottom: 1rem;
      }
      .lp-banner .content h1 {
        font-size: 3rem;
        font-weight: bold;
      }
      .main-content {
        padding: 2rem;
        background: #fff;
      }
      /* Company Information Section */
      .company-info {
        max-width: 1200px;
        margin: 2rem auto;
        padding: 1rem;
      }
      .company-info h2 {
        font-size: 2rem;
        margin-bottom: 1rem;
        color: #333;
      }
      .company-info p {
        font-size: 1.1rem;
        margin-bottom: 1rem;
        color: #555;
        line-height: 1.6;
      }
      .company-info a {
        color: #d0021b;
        text-decoration: none;
      }
      .company-info a:hover {
        text-decoration: underline;
      }
      /* Updated Services Section with Card Layout */
      .services-info {
        max-width: 1200px;
        margin: 2rem auto;
        background: #fff;
        padding: 2rem;
        border-radius: 15px;
        box-shadow: 0px 6px 15px rgba(0, 0, 0, 0.15);
        text-align: center;
        border-top: 6px solid #d0021b;
      }
      .services-info h2 {
        font-size: 2rem;
        color: #222;
        margin-bottom: 0.5rem;
      }
      .services-info p {
        font-size: 1.1rem;
        color: #666;
        margin-bottom: 2rem;
      }
      .services-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
      }
      .service-card {
        background: #f9f9f9;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.12);
        transition: 0.3s;
      }
      .service-card:hover {
        transform: translateY(-3px);
        box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.2);
      }
      .service-card h3 {
        font-size: 1.3rem;
        margin-bottom: 0.5rem;
        color: #222;
      }
      .service-card p {
        font-size: 1rem;
        line-height: 1.4;
        color: #555;
      }
      /* ========== FOOTER (updated to match Key Access Membership) ========== */
      footer {
        background-color: #0f0f0f;
        color: whitesmoke;
        font-size: small;
        font-weight: 200;
        margin-top: auto;
        padding: 40px 0;
      }
      .f-format {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
      }
      .f-list {
        display: flex;
        justify-content: space-between;
        flex-wrap: wrap;
      }
      .f-nav,
      .f-mem,
      .f-acc,
      .f-support {
        margin-right: 20px;
      }
      .f-nav ul,
      .f-mem ul,
      .f-acc ul,
      .f-support ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .f-nav li,
      .f-mem li,
      .f-acc li,
      .f-support li {
        padding-bottom: 5px;
      }
      .f-nav a,
      .f-mem a,
      .f-acc a,
      .f-support a {
        text-decoration: none;
        color: rgb(200, 200, 200);
      }
      .f-logo img {
        width: 150px;
        height: auto;
      }
      @media (max-width: 1024px) {
        .nav-links ul {
          gap: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- ========== HEADER (unchanged) ========== -->
    <nav class="navbar">
      <header class="nav-header">
        <div class="nav-image">
          <img
            src="./images/TC_Logos-01.png"
            alt="Together Culture Cambridge Logo"
          />
        </div>
      </header>
      <div class="nav-links">
        <ul>
          <li><a href="index.html">About</a></li>
          <li class="dropdown">
            <a href="#">Memberships</a>
            <ul class="dropdown-menu">
              <li>
                <a href="./non members/community-membership.html">Community</a>
              </li>
              <li>
                <a href="./non members/key-access-membership.html"
                  >Key Access</a
                >
              </li>
              <li>
                <a href="./non members/creative-workspace-membership.html"
                  >Creative Workspace</a
                >
              </li>
              <li>
                <a href="./non members/non-member-page.html"
                  >Compare all Memberships</a
                >
              </li>
            </ul>
          </li>
          <li><a href="./non members/events.html">Events</a></li>
          <li><a href="./non members/contact-support.html">Contact Us</a></li>
        </ul>
      </div>
      <!-- Updated user panel with session login/logout logic -->
      <div class="usr-panel">
        <button
          class="signup-btn"
          id="joinNowBtn"
          onclick="location.href='./non members/registration.html?tab=signup'"
        >
          Join Now
        </button>
        <img src="./images/EmptyBag.svg" alt="empty-shopping-bag" />
        <a href="./non members/registration.html?tab=login" id="userIconLink">
          <img src="./images/GuestIcon.svg" alt="guest-profile-icon" />
        </a>
        <button class="signup-btn" id="logoutBtn" style="display: none">
          Logout
        </button>
      </div>
    </nav>
    <!-- ========== MAIN CONTENT ========== -->
    <main>
      <!-- Video Banner with Updated Heading -->
      <div class="lp-banner">
        <video
          src="./images/cambridge_students_walking.mp4"
          loading="lazy"
          autoplay
          muted
          loop
        ></video>
        <div class="content">
         <!-- <img
            src="./images/TC_Logos-01.png"
            loading="lazy"
            alt="Banner Graphic"
          /> -->
          <h1>Experience Creativity &amp; Culture</h1>
        </div>
      </div>
      <!-- Additional Information Section -->
      <div class="main-content">
        <!-- Company Information Section -->
        <section class="company-info">
          <h2>About Together Culture</h2>
          <p>
            Together Culture is a dynamic community dedicated to celebrating and
            promoting the rich tapestry of arts and cultural expression in
            Cambridge. We foster creativity, inclusivity, and dialogue through a
            diverse range of events, workshops, and collaborative projects.
          </p>
          <p>
            Our platform connects artists, performers, and cultural enthusiasts,
            offering transformative experiences that inspire and engage. Whether
            you are exploring innovative art forms or seeking networking
            opportunities, Together Culture is your gateway to a vibrant
            cultural scene.
          </p>
          <p>
            Learn more about our mission and upcoming events on our
            <a href="https://www.togetherculture.com/" target="_blank"
              >official website</a
            >.
          </p>
        </section>
        <!-- Services Section with Card Layout -->
        <section class="services-info">
          <h2>Our Services &amp; Offerings</h2>
          <p>
            Join us and discover how shared creative experiences can transform
            communities.
          </p>
          <div class="services-grid">
            <div class="service-card">
              <h3>Engaging Events</h3>
              <p>Live performances and cultural experiences for all.</p>
            </div>
            <div class="service-card">
              <h3>Workshops &amp; Sessions</h3>
              <p>Interactive opportunities to explore new art forms.</p>
            </div>
            <div class="service-card">
              <h3>Networking</h3>
              <p>Connect with industry professionals and fellow creatives.</p>
            </div>
            <div class="service-card">
              <h3>Innovative Workspaces</h3>
              <p>Access to collaborative spaces for members and partners.</p>
            </div>
          </div>
        </section>
      </div>
    </main>
    <!-- ========== FOOTER ========== -->
    <footer>
      <div class="f-format">
        <div class="f-list">
          <div class="f-nav">
            <h4>Navigation</h4>
            <div>
              <ul>
                <li><a href="../index.html">Home</a></li>
                <li>
                  <a href="../non members/non-member-page.html">Pricing</a>
                </li>
                <li>
                  <a href="./non members/contact-support.html">Contact</a>
                </li>
              </ul>
            </div>
          </div>

          <div class="f-logo">
            <img src="../images/TC_Logos-01.png" alt="Footer Logo" />
          </div>
        </div>
        <hr />
        <div class="authors">
          <h4>Authors:</h4>
          <ul>
            <li>
              <a href="https://github.com/mgoing"
                >Malcom Going (SID: 2372291)</a
              >
            </li>
            <li>
              <a href="https://github.com/AlessandroLaMendola"
                >Alessandro La Mendola (SID: 2158059)</a
              >
            </li>
            <li>
              <a href="https://github.com/yusufkose-aru"
                >Yusuf Kose (SID: 2415327)</a
              >
            </li>
          </ul>
        </div>
      </div>
    </footer>
    
    <script>
      // ================== BACKEND URL LOGIC ==================
      const backendURL =
        window.location.port === "5000" ? "" : "http://127.0.0.1:5000";

      // Session Login/Logout Logic (same as events.html)
      const logoutBtn = document.getElementById("logoutBtn");
      const joinNowBtn = document.getElementById("joinNowBtn");
      const userIconLink = document.getElementById("userIconLink");

      function updateUIBasedOnLogin() {
        const isLoggedIn = localStorage.getItem("loggedIn") === "true";
        if (isLoggedIn) {
          joinNowBtn.style.display = "none";
          logoutBtn.style.display = "inline-block";
          userIconLink.href = "/Members/UserDashboard.html";
        } else {
          joinNowBtn.style.display = "inline-block";
          logoutBtn.style.display = "none";
          userIconLink.href = "/non members/registration.html?tab=login";
        }
      }
      updateUIBasedOnLogin();

      logoutBtn.addEventListener("click", async () => {
        try {
          const response = await fetch(`${backendURL}/logout`, {
            method: "POST",
            credentials: "include",
          });
          if (response.ok) {
            localStorage.clear();
           
            alert("Logged out successfully!");
            window.location.href = "/non members/registration.html?tab=login";
          } else {
            alert("Logout failed.");
          }
        } catch (error) {
          console.error("Error during logout:", error);
        }
      });
    </script>
  </body>
</html>
